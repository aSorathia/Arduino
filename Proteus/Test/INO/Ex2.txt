/* Main.ino file generated by New Project wizard
 *
 * Created:   Thu Sep 5 2013
 * Processor: ATmega328P
 * Compiler:  Arduino AVR
 */

int dataPin = 11;
int clockPin = 12;
int latchPin = 8;
void setup()
 { 
   
   pinMode(dataPin, OUTPUT);
   pinMode(clockPin, OUTPUT);
   pinMode(latchPin, OUTPUT);
   Serial.begin(9600);
   Serial.println("reset");
 }

void loop()
 { 
   
   if(Serial.available()>0){
      int bitToSet = Serial.read() - 48;      
      registerWrite(bitToSet, HIGH);
   }
 
 }

 void registerWrite(int whichPin,int whichState){
   byte bitToSend = 0;
   digitalWrite(latchPin, LOW);  
   bitWrite(bitToSend, whichPin, whichState);
   shiftOut(dataPin, clockPin, MSBFIRST , bitToSend);
   digitalWrite(latchPin, HIGH);
 }
